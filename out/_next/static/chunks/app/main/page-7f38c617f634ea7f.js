(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[798],{2585:(e,t,r)=>{"use strict";var o=r(3061);r.o(o,"useRouter")&&r.d(t,{useRouter:function(){return o.useRouter}})},2924:(e,t,r)=>{Promise.resolve().then(r.bind(r,7207))},7207:(e,t,r)=>{"use strict";let o,a,n,s;r.r(t),r.d(t,{default:()=>m});var i,c,u,l=r(6483),h=r(2899),d=r(2585);function f(e,t,r,o){if("a"===r&&!o)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?o:"a"===r?o.call(e):o?o.value:t.get(e)}function w(e,t,r,o,a){if("m"===o)throw TypeError("Private method is not writable");if("a"===o&&!a)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!a:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?a.call(e,r):a?a.value=r:t.set(e,r),r}"function"==typeof SuppressedError&&SuppressedError;let p="__TAURI_TO_IPC_KEY__";i=new WeakMap,c=new WeakMap,u=new WeakMap;async function y(e,t={},r){return window.__TAURI_INTERNALS__.invoke(e,t,r)}function m(){let[e,t]=(0,h.useState)(!1),r=(0,d.useRouter)(),i="http://146.235.210.34:8000";async function c(){let e=localStorage.getItem("token"),t=await fetch(i+"/user",{method:"GET",headers:{Authorization:e}});return await t.json()}async function u(){let e=localStorage.getItem("token"),t=await fetch(i+"/realitykey",{method:"GET",headers:{Authorization:e}});return await t.json()}async function f(){let e=localStorage.getItem("token"),t=await fetch(i+"/servers",{method:"GET",headers:{Authorization:e}});return await t.json()}(0,h.useEffect)(()=>{localStorage.getItem("token")||r.push("/login"),c().then(e=>{console.log("UUID:",a=e.UUID)}),u().then(e=>{console.log("Pubkey:",n=e.pubkey)}),f().then(e=>{console.log("Servers:",s=e.servers)})});let w=async()=>{e?y("close_xray",{pid:o}):await y("launch_xray",{uuid:a,pubkey:n,server:s[0].ip}).then(e=>{o=e}),t(!e)};return(0,l.jsx)("div",{className:"flex items-center justify-center h-screen bg-gray-100",children:(0,l.jsx)("button",{className:"w-32 h-32 rounded-full text-white font-semibold transition-all duration-300 ".concat(e?"bg-red-500":"bg-blue-500"),onClick:w,children:e?"Disconnect":"Connect"})})}new WeakMap}},e=>{var t=t=>e(e.s=t);e.O(0,[835,248,358],()=>t(2924)),_N_E=e.O()}]);